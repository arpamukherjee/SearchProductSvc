CREATE SCHEMA `btoc` AUTHORIZATION sa;

CREATE TABLE btoc.`BRAND` (
  `BRAND_ID` int AUTO_INCREMENT  PRIMARY KEY,
  `BRAND_NAME` VARCHAR(250) NOT NULL,
  `CRTN_GTS` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `LST_UPDTD_GTS` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CRTN_USR_ID` VARCHAR(250),
  `LST_MODFIED_USR_ID` VARCHAR(250)
);

CREATE TABLE btoc.`PRODUCT_CATEGORY` (
  `PRODUCT_CATEGORY_ID` int AUTO_INCREMENT  PRIMARY KEY,
  `PRODUCT_CATEGORY_NAME` VARCHAR(250) NOT NULL,
  `CRTN_GTS` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `LST_UPDTD_GTS` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CRTN_USR_ID` VARCHAR(250),
  `LST_MODFIED_USR_ID` VARCHAR(250)
);

CREATE TABLE btoc.`SUPPLIER` (
  `SUPPLIER_ID` int AUTO_INCREMENT  PRIMARY KEY,
  `SUPPLIER_NAME` VARCHAR(250) NOT NULL,
  `CRTN_GTS` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `LST_UPDTD_GTS` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CRTN_USR_ID` VARCHAR(20),
  `LST_MODFIED_USR_ID` VARCHAR(20)
);

CREATE TABLE btoc.`PRODUCT` (
  `PRODUCT_ID` int AUTO_INCREMENT  PRIMARY KEY,
  `PRODUCT_NAME` VARCHAR(250) NOT NULL,
  `BRAND_ID` int NOT NULL,
  `PRODUCT_CATEGORY_ID` int NOT NULL,
  `PRODUCT_COLOR` VARCHAR(20) DEFAULT 'WHITE',
  `PRODUCT_SIZE` VARCHAR(20) DEFAULT 'MEDIUM',
  `CRTN_GTS` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `LST_UPDTD_GTS` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CRTN_USR_ID` VARCHAR(20),
  `LST_MODFIED_USR_ID` VARCHAR(250),
  CONSTRAINT `FK_BRAND_ID` FOREIGN KEY (`BRAND_ID`) REFERENCES BRAND(`BRAND_ID`),
  CONSTRAINT `FK_PRODUCT_CATEGORY_ID` FOREIGN KEY (`PRODUCT_CATEGORY_ID`) REFERENCES PRODUCT_CATEGORY(`PRODUCT_CATEGORY_ID`)
);

CREATE TABLE btoc.`SUPPLIER_CRN_PRODUCT` (
  `PRODUCT_ID` int NOT NULL,
  `SUPPLIER_ID` int NOT NULL,
  `QUANTITY` int NOT NULL,
  `SELLING_PRICE` DECIMAL NOT NULL,
  `CRTN_GTS` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `LST_UPDTD_GTS` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CRTN_USR_ID` VARCHAR(20),
  `LST_MODFIED_USR_ID` VARCHAR(20),
  PRIMARY KEY (`PRODUCT_ID`,`SUPPLIER_ID`),
  CONSTRAINT `FK_PRODUCT_ID` FOREIGN KEY (`PRODUCT_ID`) REFERENCES PRODUCT(`PRODUCT_ID`),
  CONSTRAINT `FK_SUPPLIER_ID` FOREIGN KEY (`SUPPLIER_ID`) REFERENCES SUPPLIER(`SUPPLIER_ID`)
);